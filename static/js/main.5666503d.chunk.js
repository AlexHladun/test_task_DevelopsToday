(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(30)},24:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var d=n(0),i=n.n(d),c=n(6),r=n.n(c),o=(n(24),n(4)),a=n(5),s=n(13),l=n(14),u=n(17),m=n(15),p=n(18);n(29);var I=function(e){return i.a.createElement("article",{className:e.selected?"selected":""},e.editable?i.a.createElement("input",{type:"text",value:e.editedPost.body,onChange:function(t){return e.updateEditedItem(t.target.value)},onKeyDown:function(t){"Enter"===t.key?e.updateItem():"Escape"===t.key&&e.cancelEditing()}}):i.a.createElement("div",{className:"post",onClick:e.selectItem},i.a.createElement("h2",null,e.title),i.a.createElement("p",null,e.body),i.a.createElement("div",null,"date:",e.date),i.a.createElement("div",null,"creator:",e.creator)),i.a.createElement("button",{className:"show-selected-item",onClick:e.editItem},"\u270d"),i.a.createElement("button",{onClick:e.deleteItem},"\xd7"))},f="load",b="display",v="select_item",x="deselect_item",h="delete_item",E="edit_item",y="update_edited_item",g="cancel_editing",j="update_item";function k(){return function(e){e({type:f}),fetch("https://simple-blog-api.crew.red/posts").then(function(e){return e.json()}).then(function(e){return e}).then(function(t){e(function(e){return{type:b,posts:e}}(t))})}}var O=Object(o.b)(function(e,t){var n=e.selectedItemIndex===t.postIndex,d=e.editing&&e.selectedItemIndex===t.postIndex;return{title:t.title,date:t.date,body:t.body,creator:t.creator,postIndex:t.postIndex,selected:n,editable:d,editedPost:d?e.editedPost:null}},function(e,t){return{selectItem:function(){return e((n=t.postIndex,{type:v,selectedItemIndex:n}));var n},deleteItem:function(){return e((n=t.postIndex,{type:h,itemIndex:n}));var n},editItem:function(){return e({type:E})},updateEditedItem:function(t){return e(function(e){return{type:y,editedPost:e}}(t))},cancelEditing:function(){return e({type:g})},updateItem:function(){return e({type:j})}}})(I),w=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).container=i.a.createRef(),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.clickEvent=function(t){null===e.props.selectedItemIndex||e.container.current.contains(t.target)||e.props.deselectItem()},document.addEventListener("click",this.clickEvent)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickEvent)}},{key:"render",value:function(){return this.props.requested?null===this.props.posts?i.a.createElement("span",null,"Loading..."):i.a.createElement("div",{ref:this.container},this.props.posts.map(function(e,t){return i.a.createElement(O,{key:e.id,title:e.title,date:e.date,creator:e.creator,body:e.body,postIndex:t})})):i.a.createElement("button",{onClick:this.props.load},"Load")}}]),t}(d.Component);var P=Object(o.b)(function(e){return{posts:e.posts,selectedItemIndex:e.selectedItemIndex,editedPost:e.editedPost,editing:e.editing,requested:e.requested}},function(e){return{load:function(){return e(k())},deselectItem:function(){return e({type:x})}}})(w),_=n(16),C=n(1),q={posts:null,selectedItemIndex:null,editedPost:null,editing:null,requested:!1};var L=Object(a.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(C.a)({},e,{requested:!0});case b:return Object(C.a)({},e,{posts:t.posts,editing:!1});case v:return e.editing?e:Object(C.a)({},e,{selectedItemIndex:t.selectedItemIndex});case x:return e.editing?e:Object(C.a)({},e,{selectedItemIndex:null});case h:var n;return n=e.selectedItemIndex===t.itemIndex?null:e.selectedItemIndex>t.itemIndex?e.selectedItemIndex-1:e.selectedItemIndex,Object(C.a)({},e,{posts:e.posts.filter(function(e,n){return n!==t.itemIndex}),selectedItemIndex:n,editedPost:e.selectedItemIndex===t.itemIndex?null:e.editedPost,editing:e.selectedItemIndex!==t.itemIndex&&e.editing});case E:return Object(C.a)({},e,{editing:!0,editedPost:e.posts[e.selectedItemIndex]});case y:return Object(C.a)({},e,{editedPost:t.editedPost});case g:return Object(C.a)({},e,{editing:!1,editedPost:null});case j:return Object(C.a)({},e,{posts:e.posts.map(function(t,n){return n!==e.selectedItemIndex?t:e.editedPost}),editing:!1,editedPost:null});default:return e}},Object(a.a)(_.a));var N=function(){return i.a.createElement(o.a,{store:L},i.a.createElement(P,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.5666503d.chunk.js.map